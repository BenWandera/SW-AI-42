# Active Learning System Architecture

## System Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ACTIVE LEARNING SYSTEM                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Flutter App  â”‚
â”‚   (User)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Upload Image
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FastAPI Backend                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ /api/classify                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚  MobileViT  â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ GNN Verifier â”‚              â”‚  â”‚
â”‚  â”‚  â”‚  Classifier â”‚       â”‚   (Optional) â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚         â”‚                     â”‚                       â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚  â”‚
â”‚  â”‚                   â–¼                                   â”‚  â”‚
â”‚  â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚  â”‚
â”‚  â”‚          â”‚  Classification  â”‚                         â”‚  â”‚
â”‚  â”‚          â”‚     Result       â”‚                         â”‚  â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Return   â”‚
              â”‚   Result   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                                    â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   User Reviews   â”‚
          â”‚   Prediction     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚
        â–¼                     â–¼
   âœ… Correct           âœ— Incorrect
        â”‚                     â”‚
        â”‚                     â”‚ User selects
        â”‚                     â”‚ correct class
        â”‚                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ 2. Submit Feedback
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              /api/feedback/submit                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           FeedbackStorage                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Store image                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Store user correction                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Calculate priority                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    - High: Incorrect predictions                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    - Medium: Low confidence correct              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    - Low: High confidence correct                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Update statistics                             â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Saves to:
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  feedback_data/ â”‚
          â”‚  â”œâ”€ images/     â”‚
          â”‚  â”œâ”€ user_       â”‚
          â”‚  â”‚  feedback.   â”‚
          â”‚  â”‚  json        â”‚
          â”‚  â””â”€ training_   â”‚
          â”‚     metadata.   â”‚
          â”‚     json        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Continuous monitoring
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ActiveLearningManager                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Decision Logic:                                       â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  âœ“ Threshold Met? (â‰¥100 new samples)                  â”‚ â”‚
â”‚  â”‚  âœ“ Time Interval? (7+ days + â‰¥20 samples)             â”‚ â”‚
â”‚  â”‚  âœ“ Low Accuracy? (<75%)                               â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  If YES â†’ Recommend Retraining                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ When threshold met
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              /api/model/retrain                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           ModelRetrainer                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  1. Backup current model                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â†“                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  2. Load feedback samples                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â†“                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  3. Split train/validation (80/20)               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â†“                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  4. Fine-tune MobileViT                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â€¢ Low learning rate (1e-5)                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â€¢ 3 epochs (default)                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â€¢ Batch size 8                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â†“                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  5. Validate performance                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â†“                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  6. Save if improved                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     â†“                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  7. Reload in API                                â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Creates backup
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ model_backups/  â”‚
          â”‚  â”œâ”€ backup_1.   â”‚
          â”‚  â”‚  pth         â”‚
          â”‚  â”œâ”€ backup_1.   â”‚
          â”‚  â”‚  json        â”‚
          â”‚  â””â”€ ...         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Updates
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  best_mobilevit â”‚
          â”‚  _waste_model.  â”‚
          â”‚  pth            â”‚
          â”‚  (IMPROVED!)    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Deployed in API
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Future          â”‚
          â”‚  Classifications â”‚
          â”‚  More Accurate!  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Summary

### Phase 1: Collection (Continuous)
```
User â†’ Classification â†’ Feedback â†’ Storage
                                      â†“
                              Statistics Updated
```

### Phase 2: Analysis (Real-time)
```
FeedbackStorage â†’ Statistics Calculation
                      â†“
              â€¢ Overall accuracy
              â€¢ Per-class accuracy
              â€¢ Confusion patterns
              â€¢ Priority samples
```

### Phase 3: Decision (Automated)
```
ActiveLearningManager â†’ Check Conditions
                            â†“
                    Should Retrain?
                            â†“
                    Yes/No + Reason
```

### Phase 4: Retraining (Triggered)
```
ModelRetrainer â†’ Backup â†’ Prepare Data â†’ Train â†’ Validate â†’ Deploy
```

## Component Interaction Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”‚ Flutter  â”‚ API      â”‚ Feedback â”‚ Retrainerâ”‚
â”‚                    â”‚ App      â”‚ Endpoint â”‚ Storage  â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Submit Image       â”‚ âœ“ Send   â”‚ âœ“ Recv   â”‚          â”‚          â”‚
â”‚ Get Prediction     â”‚ âœ“ Recv   â”‚ âœ“ Send   â”‚          â”‚          â”‚
â”‚ Submit Feedback    â”‚ âœ“ Send   â”‚ âœ“ Recv   â”‚ âœ“ Store  â”‚          â”‚
â”‚ View Statistics    â”‚ âœ“ Recv   â”‚ âœ“ Send   â”‚ âœ“ Read   â”‚          â”‚
â”‚ Check Retrain Need â”‚          â”‚ âœ“ Check  â”‚ âœ“ Query  â”‚          â”‚
â”‚ Trigger Retrain    â”‚ (Admin)  â”‚ âœ“ Handle â”‚ âœ“ Prepareâ”‚ âœ“ Executeâ”‚
â”‚ Backup Model       â”‚          â”‚          â”‚          â”‚ âœ“ Create â”‚
â”‚ Deploy Model       â”‚          â”‚ âœ“ Reload â”‚          â”‚ âœ“ Save   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Monitoring Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Monitoring Dashboard                    â”‚
â”‚  (/api/learning/dashboard)                              â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Real-time Metrics:                                â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“Š Total Feedback: 150                            â”‚ â”‚
â”‚  â”‚  âœ… Correct: 132 (88.0%)                           â”‚ â”‚
â”‚  â”‚  âœ— Incorrect: 18 (12.0%)                          â”‚ â”‚
â”‚  â”‚  ğŸ¯ Avg Confidence: 0.89                           â”‚ â”‚
â”‚  â”‚  ğŸ“¦ Samples Ready: 45                              â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Per-Class Breakdown:                              â”‚ â”‚
â”‚  â”‚  â€¢ Plastic: 92.5% (37/40)                         â”‚ â”‚
â”‚  â”‚  â€¢ Paper: 85.0% (17/20)                           â”‚ â”‚
â”‚  â”‚  â€¢ Glass: 90.0% (18/20)                           â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Common Confusions:                                â”‚ â”‚
â”‚  â”‚  â€¢ Plasticâ†’Paper: 3 times                         â”‚ â”‚
â”‚  â”‚  â€¢ Paperâ†’Cardboard: 5 times                       â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Retraining Status:                                â”‚ â”‚
â”‚  â”‚  â€¢ Should Retrain: No                             â”‚ â”‚
â”‚  â”‚  â€¢ Reason: Need 55 more samples                   â”‚ â”‚
â”‚  â”‚  â€¢ Last Retrain: Never                            â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Recommendations:                                  â”‚ â”‚
â”‚  â”‚  âœ… System performing well                        â”‚ â”‚
â”‚  â”‚  ğŸ’¡ Continue collecting feedback                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Storage Structure

```
Project Root
â”‚
â”œâ”€â”€ feedback_data/              # Active Learning Data
â”‚   â”œâ”€â”€ user_feedback.json      # All feedback records
â”‚   â”œâ”€â”€ training_metadata.json  # Retraining history
â”‚   â””â”€â”€ images/                 # User-corrected images
â”‚       â”œâ”€â”€ feedback_0_timestamp.jpg
â”‚       â”œâ”€â”€ feedback_1_timestamp.jpg
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ model_backups/              # Model Version Control
â”‚   â”œâ”€â”€ model_backup_20251104_120000.pth
â”‚   â”œâ”€â”€ model_backup_20251104_120000.json
â”‚   â”œâ”€â”€ model_backup_20251103_140000.pth
â”‚   â””â”€â”€ model_backup_20251103_140000.json
â”‚
â””â”€â”€ best_mobilevit_waste_model.pth  # Current Active Model
```

## API Request/Response Examples

### Submit Feedback Request:
```http
POST /api/feedback/submit HTTP/1.1
Content-Type: multipart/form-data

------WebKitFormBoundary
Content-Disposition: form-data; name="user_id"

user_123
------WebKitFormBoundary
Content-Disposition: form-data; name="predicted_class"

Plastic
------WebKitFormBoundary
Content-Disposition: form-data; name="predicted_confidence"

0.75
------WebKitFormBoundary
Content-Disposition: form-data; name="correct_class"

Metal
------WebKitFormBoundary
Content-Disposition: form-data; name="is_correct"

false
------WebKitFormBoundary
Content-Disposition: form-data; name="image"; filename="waste.jpg"
Content-Type: image/jpeg

<binary image data>
------WebKitFormBoundary--
```

### Submit Feedback Response:
```json
{
  "success": true,
  "feedback_id": "feedback_42_20251104123045",
  "message": "Thank you for your feedback! This helps improve our AI.",
  "statistics": {
    "total_feedback": 43,
    "accuracy": 86.0,
    "samples_ready": 43
  },
  "retraining": {
    "recommended": false,
    "reason": "Need 57 more samples"
  }
}
```

---

**This architecture enables continuous learning and improvement! ğŸ“ğŸš€**
